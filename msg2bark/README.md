# MSG2Bark iOS App

MSG2Bark 是一个用于发送 Bark 推送通知的 iOS 客户端应用。支持多设备管理、加密传输、历史记录等功能。

## 功能特性

### 推送配置管理 ✅
- 支持添加多个推送配置（设备）
- 配置名称、推送密钥和服务器地址可自定义
- 支持多选配置，同时向多个设备发送消息
- 服务器地址支持历史记录和快速选择

### 消息发送 ✅
- 支持标题和内容的富文本输入
- 支持所有 Bark 官方的推送参数配置
- 支持加密传输功能
- 发送后自动清除内容（可选）
- 快捷发送按钮（页面底部和导航栏）

### 高级选项 ⚠️
- 提示音选择（支持持续响铃）
- 跳转链接设置
- 分组功能
- 最近使用记录快速选择
- 图标配置（待实现）

### 通知设置 ✅
- 角标数字设置
- 复制内容配置
- 通知级别设置（活跃、时效性、被动）
- 自动复制内容开关
- 接收端保存消息开关

### 历史记录 ✅
- 本地保存所有发送记录
- 显示消息的完整信息：
  - 标题和内容
  - 发送时间
  - 发送对象（配置名称）
  - 接收端保存状态
  - 使用的提示音
  - 关联的链接
  - 所属分组
- 支持删除单条或批量删除

### 数据管理 ✅
- 清空推送配置
- 清除提示音历史
- 清除链接历史
- 清除分组历史
- 清除服务器地址历史

## 使用说明

### 基本设置
1. 在"设置"页面添加推送配置
2. 填写配置名称、推送密钥和服务器地址
3. 可选择是否启用加密传输

### 发送消息
1. 在"推送"页面输入标题和内容
2. 在推送配置中选择要发送的目标设备（可多选）
3. 可展开"高级选项"设置更多参数
4. 可展开"通知设置"进行高级配置
5. 点击发送按钮推送消息

### 历史记录
- 在"历史"页面查看所有发送记录
- 可以看到每条消息的详细信息
- 支持左滑删除单条记录
- 点击编辑可批量删除

## 技术实现
- 使用 SwiftUI 构建用户界面
- 使用 SwiftData 进行本地数据存储
- 使用 CryptoKit 实现加密功能
- 支持 iOS 14.0 及以上版本

## 开发者
- DawnCity
- 主页：https://gacenwinl.cn

## 注意事项
- 确保填写正确的 Bark 服务器地址和推送密钥
- 加密传输需要 Bark 服务器支持
- 部分功能可能需要最新版本的 Bark 服务端支持

## 待完善功能
1. 加密功能优化 ⚠️
   - 问题：当前无法正常接收加密后的消息
   - 状态：待修复
   - 优先级：高

2. 持续响铃功能 ⚠️
   - 问题：当前设置持续响铃选项后未生效
   - 状态：待修复
   - 优先级：高

3. 图标配置功能 🚧
   - 状态：未开始
   - 优先级：中

## 进度说明
- ✅ 已完成
- ⚠️ 部分完成/待修复
- 🚧 待实现